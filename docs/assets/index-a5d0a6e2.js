var a=Object.defineProperty;var c=(o,t,n)=>t in o?a(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n;var e=(o,t,n)=>(c(o,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))h(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&h(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function h(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();class l{constructor(){e(this,"canvas");e(this,"ctx");e(this,"previousTime",0);e(this,"delta",0);e(this,"fixedAcculumator",0);e(this,"fixedInterval",1/60);e(this,"backgroundFill","#3f72af");e(this,"player");this.onUpdate=this.onUpdate.bind(this),this.onFixedUpdate=this.onFixedUpdate.bind(this),this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.player=new d(this.ctx),this.onUpdate()}onUpdate(t=performance.now()){for(this.delta=(t-this.previousTime)/1e3,this.previousTime=t,this.fixedAcculumator+=this.delta;this.fixedAcculumator>=this.fixedInterval;)this.onFixedUpdate(),this.fixedAcculumator-=this.fixedInterval;window.requestAnimationFrame(this.onUpdate)}onFixedUpdate(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle=this.backgroundFill,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.player.update(),this.player.render()}}class d{constructor(t){e(this,"ctx");e(this,"width",20);e(this,"height",40);e(this,"fillColor","#F9F7F7");e(this,"angle",0);e(this,"rotationSpeed",.05);e(this,"x",window.innerWidth/2);e(this,"y",window.innerHeight/2);e(this,"keys",{left:!1,right:!1});e(this,"velocityX",0);e(this,"velocityY",0);this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.ctx=t,window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}onKeyDown(t){switch(t.code){case"ArrowLeft":this.keys.left=!0;break;case"ArrowRight":this.keys.right=!0;break}}onKeyUp(t){switch(t.code){case"ArrowLeft":this.keys.left=!1;break;case"ArrowRight":this.keys.right=!1;break}}update(){this.keys.left&&(this.angle-=this.rotationSpeed),this.keys.right&&(this.angle+=this.rotationSpeed)}render(){this.ctx.save(),this.ctx.translate(this.x,this.y),this.ctx.rotate(this.angle),this.ctx.translate(-this.width/2,-this.height/2),this.ctx.fillStyle=this.fillColor,this.ctx.fillRect(0,0,this.width,this.height),this.ctx.restore(),this.ctx.save();const t=Math.PI/2,h=Math.abs(this.angle)%t/t,i=1-Math.abs((h-.5)*2);console.log(i);const s=0;this.velocityX=-Math.sin(this.angle+s)*i,this.velocityY=Math.cos(this.angle+s)*i,this.x+=-this.velocityX,this.y+=-this.velocityY}}new l;
